<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: rgba(224, 224, 224, 0.2);
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: rgba(220, 219, 218, 0.6);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: rgba(193, 192, 191, 0.7);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: rgba(224, 224, 224, 0.5);
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>백준 26306 - Balanced Seesaw Array | jinsoolve</title>
<meta name="description" content="백준 26306 - Balanced Seesaw Array">


  <meta name="author" content="jinsoolve">
  
  <meta property="article:author" content="jinsoolve">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Jinsoolve Blog">
<meta property="og:title" content="백준 26306 - Balanced Seesaw Array">
<meta property="og:url" content="https://jinsoolve.github.io/problem%20solving/boj-26306/">


  <meta property="og:description" content="백준 26306 - Balanced Seesaw Array">







  <meta property="article:published_time" content="2024-07-29T00:00:00+00:00">



  <meta property="article:modified_time" content="2024-08-02T00:00:00+00:00">



  

  


<link rel="canonical" href="https://jinsoolve.github.io/problem%20solving/boj-26306/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "jinsoolve",
      "url": "https://jinsoolve.github.io/"
    
  }
</script>






<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jinsoolve Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="57x57" href="assets/images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="assets/images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="assets/images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="assets/images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="assets/images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="assets/images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="assets/images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="assets/images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="assets/images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="assets/images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon/favicon-16x16.png">

<!--자꾸 현재 post의 위치에서부터 찾아서 에러가 났다. 그래서 뒤로 보내줬다.-->
<link rel="manifest" href="../../assets/images/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- Clipboard.js 라이브러리 추가 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

<!-- 스크롤 시 header 숨기고 나타내기 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var lastScrollTop = 0;
        var delta = 5;
        var navbarHeight = document.querySelector('.masthead').offsetHeight;

        window.addEventListener('scroll', function() {
            var st = window.scrollY;

            // Make sure they scroll more than delta
            if (Math.abs(lastScrollTop - st) <= delta)
                return;

            // If current position > last position, scroll down
            if (st > lastScrollTop && st > navbarHeight) {
                // Scroll Down
                document.querySelector('.masthead').classList.add('is-hidden');
            } else {
                // Scroll Up
                document.querySelector('.masthead').classList.remove('is-hidden');
            }

            // Show masthead if near the top of the page
            if (st < navbarHeight) {
                document.querySelector('.masthead').classList.remove('is-hidden');
            }

            lastScrollTop = st;
        });
    });
</script>











    <!-- end custom head snippets -->

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },

        "HTML-CSS": {
            availableFonts: ["TeX"],
            linebreaks: {
                automatic: true
            }
        }
    });

    let initialWidth = window.innerWidth;
    window.addEventListener('resize', MJrerender);
    let t = -1;
    let delay = 250;

    function MJrerender() {
      // Check if the width has actually changed
      if (window.innerWidth === initialWidth) {
        return;
      }

      initialWidth = window.innerWidth;

      if (t >= 0) {
        // If we are still waiting, then the user is still resizing =>
        // postpone the action further!
        window.clearTimeout(t);
      }
      t = window.setTimeout(function() {
        MathJax.Hub.Queue(["Rerender",MathJax.Hub]);
        t = -1; // Reset the handle
      }, delay);
    }
</script>

<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML-full,Safe,https://DOMAIN/config.js">
</script>
<script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>



    <link rel="apple-touch-icon" sizes="180x180" href="https://jinsoolve.github.io/assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://jinsoolve.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://jinsoolve.github.io/assets/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="https://jinsoolve.github.io/assets/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://jinsoolve.github.io/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/meee.svg" alt="Jinsoolve Blog"></a>
        
        <a class="site-title" href="/">
          Jinsoolve Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tag</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/jinsoolve">GitHub</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/meee.png" alt="jinsoolve" itemprop="image">
      
    </div>
  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">jinsoolve</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Seoul, Korea</span>
        </li>
      

      

      

      
        <li>
          <a href="mailto:jinsoolve@gmail.com">
            <meta itemprop="email" content="jinsoolve@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    <!-- <li>
      <span class="nav__total">🌴 Total Posts: 18</span>
    </li> -->
    
    
      <li>
        
              <a href="/categories/diary/"><span class="nav__sub-title">Diary</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/categories/algorithm/"><span class="nav__sub-title">Algorithm</span></a>
        

        
        <ul>
          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/algorithm/algorithm-theory/">
                  Algorithm Theory
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/algorithm/problem-solving/">
                  Problem Solving
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
        </ul>
        
      </li>
    
      <li>
        
              <a href="/categories/machine-learning/"><span class="nav__sub-title">Machine Learning</span></a>
        

        
        <ul>
          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/machine-learning/kaggle/">
                  Kaggle
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/machine-learning/lecture/">
                  Lecture
                </a>

                
                  <a href="#" class="toggle-link" onclick="toggleContent(event, 'Lecture', this)" style="margin-left: auto; margin-right: auto;">
                    <span class="toggle-icon" aria-hidden="true">+</span> <!-- 기본 아이콘 (펼쳐지지 않았을 때) -->
                  </a>
                
              </div>

              
                <div id="lecture" class="toggle-content" style="display: none;">
                  <ul>
                    
                      <li>
                        <a href="/categories/machine-learning/lecture/cs224n/">
                          CS224n
                          
                        </a>
                      </li>
                    
                  </ul>
                </div>
              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/machine-learning/paper/">
                  Paper
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="백준 26306 - Balanced Seesaw Array">
    <meta itemprop="description" content="백준 26306 - Balanced Seesaw Array">
    <meta itemprop="datePublished" content="2024-07-29T00:00:00+00:00">
    <meta itemprop="dateModified" content="2024-08-02T00:00:00+00:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">백준 26306 - Balanced Seesaw Array
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-07-29T00:00:00+00:00">July 29, 2024</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#백준-26306---balanced-seesaw-array">백준 26306 - Balanced Seesaw Array</a><ul><li><a href="#풀이">풀이</a></li><li><a href="#코드">코드</a></li></ul></li></ul>

            </nav>
          </aside>
        
        <h1 id="백준-26306---balanced-seesaw-array"><a href="https://www.acmicpc.net/problem/26306">백준 26306 - Balanced Seesaw Array</a></h1>
<h2 id="풀이">풀이</h2>
<p>문제에서 주어진 공식을 정리하면 다음과 같다.</p>

\[\Sigma_{i=1}^{m}(i\times a_i) - k \times \Sigma_{i=1}^{m}(a_i) = 0\]

\[\Sigma_{i=1}^{m}(i\times a_i) = k \times \Sigma_{i=1}^{m}(a_i)\]

<p>위를 만족시키는 k를 찾으면 해결할 수 있다.</p>

<p>구간 쿼리가 들어오는 걸로 보았을 때 lazy segment tree를 사용하면 된다는 것을 알 수 있다.<br />
즉, 우리는 $\Sigma (i \times a_i)$와 $\Sigma(a_i)$를 계산하고 있는 2개의 lazy 세그를 구하면 된다.</p>

<p>lazy 구조체를 다음과 같이 만든다.</p>
<ul>
  <li>val</li>
  <li>a</li>
  <li>b</li>
</ul>

<p>lazy를 update 시키면 $a \times val + b$ 를 의미한다.<br />
1번 쿼리가 들어오면 a=1, b=x로 업데이트 해주면 되고, 2번 쿼리가 들어오면 a=0, b=x으로 업데이트 해주면 된다.</p>

<p>이때 $\Sigma(a_i)$의 경우는 b가 더해질 때 해당 (start ~ end)에 대해 각각 b씩 더해지므로 $(end-start+1)\times b$를 해주면 되고, <br />
$\Sigma (i \times a_i)$의 경우는 해당 (start ~ end)에 대해 $start\times b, (start+1)\times b, … , end\times b$ 가 더해지므로 결국, $b\times (start + (start+1) + … + end)$ 가 더해진다. 따라서 $b\times (end\times (end+1)/2 - (start-1)\times start/2)$를 해주면 된다.</p>

<p>a의 경우는 그냥 전체에 곱해지는 것이므로  $\Sigma (i \times a_i)$와 $\Sigma(a_i)$ 모두 그냥 곱해주면 된다.</p>

<p>위와 같이 세그를 구현해주면 해결할 수 있다.</p>

<p>마지막으로 주의할 점이 있는데,<br />
처음의 공식의 경우 i가 1 ~ m 의 범위이고, 쿼리는 l ~ r의 범위이다.<br />
공식을 l과 r로 변경하면 다음과 같다.</p>

\[\Sigma_{i=1}^{r-l+1}(i*a_{i+l-1}) - k \times \Sigma_{i=l}^r(a_i) = 0\]

<p>이를 우리의 세그에 좀 더 알맞게 정리하면 다음과 같다.</p>

\[\Sigma_{i=l}^r(i \times a_i) - (l-1)\times \Sigma_{i=l}^r(a_i) - k \times \Sigma_{i=l}^r(a_i) = 0\]

<p>\(\Sigma_{i=l}^r(i \times a_i) = (k+l-1)\times \Sigma_{i=l}^r(a_i)\)
여기서 k는 1 ~ m(=r-l+1) 범위 이어야 하므로 k+l-1은 l ~ r 의 범위이라면 balanced seesaw array임을 알 수 있다.</p>

<p>만약 $\Sigma_{i=l}^r(a_i)$가 0이라면 $\Sigma_{i=l}^r(i \times a_i)$가 0일 때만 가능하다.</p>

<h2 id="코드">코드</h2>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;bits/stdc++.h&gt;</span><span class="cp">
</span>
<span class="cp">#define endl "\n"
#define all(v) (v).begin(), (v).end()
#define For(i, n) for(int i=0; i&lt;n; ++i)
#define For1(i, n) for(int i=1; i&lt;=n; ++i)
#define For2(i, a, b) for(int i=(a); i&lt;=(b); ++i)
#define ft first
#define sd second
#define Get(i, v) get&lt;i&gt;(v)
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ll</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ull</span> <span class="o">=</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">;</span>
<span class="k">using</span> <span class="n">lll</span> <span class="o">=</span> <span class="n">__int128</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ulll</span> <span class="o">=</span> <span class="n">__uint128_t</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ld</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">double</span><span class="p">;</span>
<span class="k">using</span> <span class="n">pii</span> <span class="o">=</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">pll</span> <span class="o">=</span> <span class="n">pair</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span> <span class="n">ll</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ti3</span> <span class="o">=</span> <span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">tl3</span> <span class="o">=</span> <span class="n">tuple</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span> <span class="n">ll</span><span class="p">,</span> <span class="n">ll</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">INF</span> <span class="o">=</span> <span class="n">numeric_limits</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">();</span>
<span class="k">const</span> <span class="n">ll</span> <span class="n">LNF</span> <span class="o">=</span> <span class="n">numeric_limits</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;::</span><span class="n">max</span><span class="p">();</span>

<span class="k">struct</span> <span class="nc">Lazy</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">val</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span> <span class="c1">// a * val + b</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">Lazy_Segment</span> <span class="p">{</span>
<span class="nl">public:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">Lazy</span><span class="o">&gt;</span> <span class="n">tree</span><span class="p">;</span> <span class="c1">//tree[node] := a[start ~ end] 의 합</span>
    <span class="kt">int</span> <span class="n">TYPE</span><span class="p">;</span>

    <span class="n">Lazy_Segment</span><span class="p">()</span> <span class="p">{}</span>
    <span class="n">Lazy_Segment</span><span class="p">(</span><span class="kt">int</span> <span class="n">size</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">resize</span><span class="p">(</span><span class="n">size</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">resize</span><span class="p">(</span><span class="kt">int</span> <span class="n">size</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="n">floor</span><span class="p">(</span><span class="n">log2</span><span class="p">(</span><span class="n">size</span><span class="p">))</span> <span class="o">+</span> <span class="mi">2</span><span class="p">;</span>
        <span class="n">size</span> <span class="o">=</span> <span class="n">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">size</span><span class="p">);</span>
        <span class="n">tree</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">});</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">type</span><span class="p">(</span><span class="n">ll</span> <span class="n">s</span><span class="p">,</span> <span class="n">ll</span> <span class="n">e</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">TYPE</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="k">return</span> <span class="n">e</span><span class="o">-</span><span class="n">s</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">e</span><span class="o">*</span><span class="p">(</span><span class="n">e</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="p">(</span><span class="n">s</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">init</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">==</span> <span class="n">end</span><span class="p">)</span> <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">val</span> <span class="o">=</span> <span class="n">type</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">end</span><span class="p">)</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">start</span><span class="p">];</span>
        <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">init</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">node</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="p">(</span><span class="n">start</span><span class="o">+</span><span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">init</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">node</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">start</span><span class="o">+</span><span class="n">end</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">update_lazy</span><span class="p">(</span><span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">a</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">a</span><span class="o">*</span><span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">val</span> <span class="o">+</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">b</span><span class="o">*</span><span class="n">type</span><span class="p">(</span><span class="n">start</span><span class="p">,</span><span class="n">end</span><span class="p">));</span>
        <span class="k">if</span><span class="p">(</span><span class="n">start</span> <span class="o">!=</span> <span class="n">end</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="n">i</span> <span class="o">:</span> <span class="p">{</span><span class="mi">2</span><span class="o">*</span><span class="n">node</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">node</span><span class="o">+</span><span class="mi">1</span><span class="p">})</span> <span class="p">{</span>
                <span class="n">tree</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">a</span> <span class="o">*</span> <span class="n">tree</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">a</span><span class="p">);</span>
                <span class="n">tree</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">a</span> <span class="o">*</span> <span class="n">tree</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">b</span> <span class="o">+</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">b</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">,</span> <span class="n">ll</span> <span class="n">a</span><span class="p">,</span> <span class="n">ll</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">update_lazy</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">right</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">||</span> <span class="n">end</span> <span class="o">&lt;</span> <span class="n">left</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">start</span> <span class="o">&amp;&amp;</span> <span class="n">end</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">a</span> <span class="o">*</span> <span class="n">a</span><span class="p">);</span>
            <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">b</span> <span class="o">=</span> <span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">b</span> <span class="o">+</span> <span class="n">b</span><span class="p">);</span>
            <span class="n">update_lazy</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">update</span><span class="p">(</span><span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
        <span class="n">update</span><span class="p">(</span><span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">);</span>
        <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">val</span> <span class="o">=</span> <span class="p">(</span><span class="n">tree</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">node</span><span class="p">].</span><span class="n">val</span> <span class="o">+</span> <span class="n">tree</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">node</span><span class="o">+</span><span class="mi">1</span><span class="p">].</span><span class="n">val</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">sum</span><span class="p">(</span><span class="kt">int</span> <span class="n">node</span><span class="p">,</span> <span class="kt">int</span> <span class="n">start</span><span class="p">,</span> <span class="kt">int</span> <span class="n">end</span><span class="p">,</span> <span class="kt">int</span> <span class="n">left</span><span class="p">,</span> <span class="kt">int</span> <span class="n">right</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">update_lazy</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">right</span> <span class="o">&lt;</span> <span class="n">start</span> <span class="o">||</span> <span class="n">end</span> <span class="o">&lt;</span> <span class="n">left</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">start</span> <span class="o">&amp;&amp;</span> <span class="n">end</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span> <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">node</span><span class="p">].</span><span class="n">val</span><span class="p">;</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">sum</span><span class="p">(</span><span class="n">node</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span> <span class="o">+</span>
                <span class="n">sum</span><span class="p">(</span><span class="n">node</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="n">start</span> <span class="o">+</span> <span class="n">end</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">solve</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">q</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">For1</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="n">Lazy_Segment</span> <span class="n">seg1</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">seg2</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
    <span class="n">seg1</span><span class="p">.</span><span class="n">TYPE</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seg2</span><span class="p">.</span><span class="n">TYPE</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="n">seg1</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">);</span> <span class="n">seg2</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">);</span>
    <span class="k">while</span><span class="p">(</span><span class="n">q</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">cmd</span> <span class="o">&gt;&gt;</span> <span class="n">l</span> <span class="o">&gt;&gt;</span> <span class="n">r</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">cmd</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ll</span> <span class="n">x</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">;</span>
            <span class="n">seg1</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
            <span class="n">seg2</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">cmd</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ll</span> <span class="n">x</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">;</span>
            <span class="n">seg1</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
            <span class="n">seg2</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="n">ll</span> <span class="n">res1</span> <span class="o">=</span> <span class="n">seg1</span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
            <span class="n">ll</span> <span class="n">res2</span> <span class="o">=</span> <span class="n">seg2</span><span class="p">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
            <span class="kt">bool</span> <span class="n">flag</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">res1</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span><span class="p">(</span><span class="n">res2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="n">flag</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="n">ll</span> <span class="n">k</span> <span class="o">=</span> <span class="n">res2</span><span class="o">/</span><span class="n">res1</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span class="n">k</span> <span class="n">and</span> <span class="n">k</span><span class="o">&lt;=</span><span class="n">r</span> <span class="n">and</span> <span class="n">res2</span> <span class="o">==</span> <span class="n">k</span><span class="o">*</span><span class="n">res1</span><span class="p">)</span> <span class="n">flag</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Yes</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
            <span class="k">else</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"No</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ios_base</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="nb">nullptr</span><span class="p">);</span>
    <span class="n">cout</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="nb">nullptr</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">tc</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="c1">//    cin &gt;&gt; tc;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">tc</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">solve</span><span class="p">();</span>
<span class="c1">//        cout &lt;&lt; solve() &lt;&lt; endl;</span>
    <span class="p">}</span>


    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/%EB%8A%90%EB%A6%AC%EA%B2%8C-%EA%B0%B1%EC%8B%A0%EB%90%98%EB%8A%94-%EC%84%B8%EA%B7%B8%EB%A8%BC%ED%8A%B8-%ED%8A%B8%EB%A6%AC" class="page__taxonomy-item" rel="tag">느리게-갱신되는-세그먼트-트리</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/problem-solving" class="page__taxonomy-item" rel="tag">Problem Solving</a>
    
    </span>
  </p>


        
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2024-08-02">August 2, 2024</time></p>


      </footer>

      

      
  <nav class="pagination">
    
      <a href="/problem%20solving/UCPC-2024-%EC%98%88%EC%84%A0/" class="pagination--pager" title="UCPC 2024 예선 후기 및 풀이
">Prev</a>
    
    
      <a href="/problem%20solving/Edu-CF168-E/" class="pagination--pager" title="Educational Codeforces Round 168 - E. Level Up
">Next</a>
    
  </nav>


    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="utterances-comments"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/problem%20solving/boj-17409/" rel="permalink">백준 17409 - 증가 수열의 개수
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-08-29T00:00:00+00:00">August 29, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">증가 수열의 개수

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/problem%20solving/boj-1898/" rel="permalink">백준 1898 - 이전 수열은 어떤 수열일까
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-08-28T00:00:00+00:00">August 28, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">이전 수열은 어떤 수열일까

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/problem%20solving/boj-11883/" rel="permalink">백준 11883 - 생일수 I
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-08-22T00:00:00+00:00">August 22, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">백준 11883 - 생일수 I

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/problem%20solving/boj-15560/" rel="permalink">백준 15560 - 구간 합 최대? 1
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-08-21T00:00:00+00:00">August 21, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">백준 15560 - 구간 합 최대? 1

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- Clipboard.js 라이브러리 추가 -->
<!--<script>
    document.addEventListener('DOMContentLoaded', function() {
        // 모든 코드 블록을 찾아 복사 버튼 추가
        document.querySelectorAll('div.highlighter-rouge').forEach(function(codeBlock) {
            // 복사 버튼 생성
            var button = document.createElement('button');
            button.className = 'copy-button';
            button.type = 'button';
            button.innerText = 'Copy';

            // 버튼 클릭 시 클립보드에 코드 복사
            button.addEventListener('click', function() {
                var code = codeBlock.querySelector('code').innerText; // 코드 블록 내의 코드만 가져오기
                navigator.clipboard.writeText(code).then(function() {
                    button.innerText = 'Copied!';
                    setTimeout(function() {
                        button.innerText = 'Copy';
                    }, 2000); // 2초 후 버튼 텍스트를 다시 'Copy'로 변경
                }, function(err) {
                    console.error('Could not copy text: ', err);
                });
            });

            // 코드 블록의 부모 요소에 버튼 추가
            codeBlock.style.position = 'relative'; // 코드 블록에 position: relative 적용
            codeBlock.style.marginBottom = '1em'; // 하단 마진 추가
            codeBlock.style.overflowX = 'auto'; // 가로 스크롤바 추가

            // 버튼 스타일링
            button.style.position = 'absolute';
            button.style.top = '10px'; // 상단 여백 조정
            button.style.right = '10px'; // 우측 여백 조정
            button.style.padding = '5px 10px';
            button.style.border = 'none';
            button.style.background = 'white'; // 기본 배경색 설정
            button.style.color = '#007bff'; // 기본 텍스트 색상 설정
            button.style.borderRadius = '5px';
            button.style.cursor = 'pointer';
            button.style.fontSize = '0.875em';
            button.style.transition = 'background-color 0.3s, color 0.3s'; // 호버 시 애니메이션 효과 추가

            // 버튼 호버 시 스타일 변경
            button.addEventListener('mouseenter', function() {
                button.style.color = 'white';
                button.style.background = '#007bff';
            });

            button.addEventListener('mouseleave', function() {
                button.style.color = '#007bff';
                button.style.background = 'white';
            });

            codeBlock.appendChild(button); // 버튼을 코드 블록에 추가
        });
    });
</script>-->
<!-- Clipboard.js 라이브러리 끝 -->

<!-- end custom footer snippets -->

        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2024 jinsoolve. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>







  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=your tracking id here"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'your tracking id here', { 'anonymize_ip': false});
</script>






    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'jinsoolve/jinsoolve.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-dark');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  



  
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
  
    <script src="/assets/js/clipboardrouge.js"></script>
  






  </body>
</html>
