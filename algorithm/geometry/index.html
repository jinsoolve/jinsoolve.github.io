<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.22.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <style> 
      ::-webkit-scrollbar{ 
        width: 10px;
        height: 10px;
      }

      ::-webkit-scrollbar-track {
        width: 0px;
        background-color: rgba(224, 224, 224, 0.2);
        /* border-radius: 5px; */
      }

      ::-webkit-scrollbar-thumb {
        width: 0px;
        background-color: rgba(220, 219, 218, 0.6);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-thumb:hover {
        width: 10px;
        height: 20px;
        /* background-color: rgba(190, 190, 190, 0.2); */
        background-color: rgba(193, 192, 191, 0.7);
        border-radius: 5px;
      }

      ::-webkit-scrollbar-track:hover {
        width: 10px;
        /* background-color: rgba(150, 150, 150, 0.1); */
        background-color: rgba(224, 224, 224, 0.5);
        border-radius: 5px;
        /* background: transparent; */
        /* border-radius: 10px; */
      }

      ::-webkit-scrollbar-button:start:decrement,::-webkit-scrollbar-button:end:increment {
          width:0px;
          height: 0px;
          /* background-color: rgb(14, 221, 24); */
          /* border-radius: 50%; */
      }
    </style>
    
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>기하학 | jinsoolve</title>
<meta name="description" content="기하학">


  <meta name="author" content="jinsoolve">
  
  <meta property="article:author" content="jinsoolve">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="Jinsoolve Blog">
<meta property="og:title" content="기하학">
<meta property="og:url" content="https://jinsoolve.github.io/algorithm/geometry/">


  <meta property="og:description" content="기하학">







  <meta property="article:published_time" content="2024-06-24T00:00:00+00:00">



  <meta property="article:modified_time" content="2024-08-01T00:00:00+00:00">



  

  


<link rel="canonical" href="https://jinsoolve.github.io/algorithm/geometry/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "jinsoolve",
      "url": "https://jinsoolve.github.io/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Jinsoolve Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<link rel="apple-touch-icon" sizes="57x57" href="assets/images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="assets/images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="assets/images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="assets/images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="assets/images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="assets/images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="assets/images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="assets/images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="assets/images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="assets/images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="assets/images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon/favicon-16x16.png">

<!--자꾸 현재 post의 위치에서부터 찾아서 에러가 났다. 그래서 뒤로 보내줬다.-->
<link rel="manifest" href="../../assets/images/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">

<!-- Clipboard.js 라이브러리 추가 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

<!-- 스크롤 시 header 숨기고 나타내기 -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var lastScrollTop = 0;
        var delta = 5;
        var navbarHeight = document.querySelector('.masthead').offsetHeight;

        window.addEventListener('scroll', function() {
            var st = window.scrollY;

            // Make sure they scroll more than delta
            if (Math.abs(lastScrollTop - st) <= delta)
                return;

            // If current position > last position, scroll down
            if (st > lastScrollTop && st > navbarHeight) {
                // Scroll Down
                document.querySelector('.masthead').classList.add('is-hidden');
            } else {
                // Scroll Up
                document.querySelector('.masthead').classList.remove('is-hidden');
            }

            // Show masthead if near the top of the page
            if (st < navbarHeight) {
                document.querySelector('.masthead').classList.remove('is-hidden');
            }

            lastScrollTop = st;
        });
    });
</script>











    <!-- end custom head snippets -->

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        extensions: ["tex2jax.js"],
        jax: ["input/TeX", "output/HTML-CSS"],
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true
        },

        "HTML-CSS": {
            availableFonts: ["TeX"],
            linebreaks: {
                automatic: true
            }
        }
    });

    let initialWidth = window.innerWidth;
    window.addEventListener('resize', MJrerender);
    let t = -1;
    let delay = 250;

    function MJrerender() {
      // Check if the width has actually changed
      if (window.innerWidth === initialWidth) {
        return;
      }

      initialWidth = window.innerWidth;

      if (t >= 0) {
        // If we are still waiting, then the user is still resizing =>
        // postpone the action further!
        window.clearTimeout(t);
      }
      t = window.setTimeout(function() {
        MathJax.Hub.Queue(["Rerender",MathJax.Hub]);
        t = -1; // Reset the handle
      }, delay);
    }
</script>

<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML-full,Safe,https://DOMAIN/config.js">
</script>
<script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>



    <link rel="apple-touch-icon" sizes="180x180" href="https://jinsoolve.github.io/assets/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://jinsoolve.github.io/assets/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://jinsoolve.github.io/assets/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="https://jinsoolve.github.io/assets/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://jinsoolve.github.io/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#ffc40d">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/meee.svg" alt="Jinsoolve Blog"></a>
        
        <a class="site-title" href="/">
          Jinsoolve Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tag</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="https://github.com/jinsoolve">GitHub</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/assets/images/meee.png" alt="jinsoolve" itemprop="image">
      
    </div>
  

  <!-- 2022.02.17 author content hidden -->
  <!-- <div class="author__content">
    
      <h3 class="author__name" itemprop="name">jinsoolve</h3>
    
    
  </div> -->

  <div class="author__urls-wrapper">
    <!-- <button class="btn btn--inverse">Follow</button> -->
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Seoul, Korea</span>
        </li>
      

      

      

      
        <li>
          <a href="mailto:jinsoolve@gmail.com">
            <meta itemprop="email" content="jinsoolve@gmail.com" />
            <i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span>
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    <!-- <li>
      <span class="nav__total">🌴 Total Posts: 25</span>
    </li> -->
    
    
      <li>
        
              <a href="/categories/diary/"><span class="nav__sub-title">Diary</span></a>
        

        
      </li>
    
      <li>
        
              <a href="/categories/algorithm/"><span class="nav__sub-title">Algorithm</span></a>
        

        
        <ul>
          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/algorithm/algorithm-theory/">
                  Algorithm Theory
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/algorithm/problem-solving/">
                  Problem Solving
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
        </ul>
        
      </li>
    
      <li>
        
              <a href="/categories/machine-learning/"><span class="nav__sub-title">Machine Learning</span></a>
        

        
        <ul>
          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/machine-learning/kaggle/">
                  Kaggle
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/machine-learning/lecture/">
                  Lecture
                </a>

                
                  <a href="#" class="toggle-link" onclick="toggleContent(event, 'Lecture', this)" style="margin-left: auto; margin-right: auto;">
                    <span class="toggle-icon" aria-hidden="true">+</span> <!-- 기본 아이콘 (펼쳐지지 않았을 때) -->
                  </a>
                
              </div>

              
                <div id="lecture" class="toggle-content" style="display: none;">
                  <ul>
                    
                      <li>
                        <a href="/categories/machine-learning/lecture/cs224n/">
                          CS224n
                          
                        </a>
                      </li>
                    
                  </ul>
                </div>
              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
            <!-- sub-title -->
            <li>
              

              <div style="display: flex; align-items: center; justify-content: space-between;">
                <a href="/categories/machine-learning/paper/">
                  Paper
                </a>

                
              </div>

              

              <style>
                .toggle-content {
                  transition: all 10.3s ease; /* 부드러운 전환 효과 */
                }
                .toggle-link {
                  display: flex; /* Flexbox 사용 */
                  align-items: center; /* 수직 중앙 정렬 */
                  text-decoration: none; /* 링크의 기본 밑줄 제거 */
                  color: inherit; /* 텍스트 색상 상속 */
                  cursor: pointer; /* 커서 포인터로 변경 */
                }

                .toggle-icon {
                  font-weight: bold; /* 아이콘 강조 */
                  line-height: 1; /* 라인 높이 조정 */
                }
              </style>

              <script>
                function toggleContent(event, title, link) {
                  event.preventDefault();  // 기본 링크 클릭 동작 방지
                  var content = document.getElementById(title.replace(/\s+/g, '-').toLowerCase()); // ID로 콘텐츠 찾기

                  // 내용 토글
                  if (content.style.display === "none") {
                    content.style.display = "block"; // 보이기
                    link.querySelector('.toggle-icon').textContent = "-"; // 펼쳤을 때 아이콘 변경
                  } else {
                    content.style.display = "none"; // 숨기기
                    link.querySelector('.toggle-icon').textContent = "+"; // 펼쳐지지 않았을 때 아이콘 변경
                  }
                }
              </script>
            </li>



          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="기하학">
    <meta itemprop="description" content="기하학">
    <meta itemprop="datePublished" content="2024-06-24T00:00:00+00:00">
    <meta itemprop="dateModified" content="2024-08-01T00:00:00+00:00">

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">기하학
</h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-06-24T00:00:00+00:00">June 24, 2024</time>
      </span>
    

    

    
  </p>


          
  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2024-08-01">August 1, 2024</time></p>


          
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/algorithm-theory" class="page__taxonomy-item" rel="tag">Algorithm Theory</a>
    
    </span>
  </p>




        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#convex-hull">Convex Hull</a><ul><li><a href="#회전하는-캘리퍼스rotating-calipers">회전하는 캘리퍼스(Rotating Calipers)</a></li></ul></li><li><a href="#선분-교차-판정">선분 교차 판정</a></li><li><a href="#선분의-교차점-구하기">선분의 교차점 구하기</a></li><li><a href="#볼록-다각형-내부의-점-판정">볼록 다각형 내부의 점 판정</a></li></ul>

            </nav>
          </aside>
        
        <h1 id="convex-hull">Convex Hull</h1>
<p>볼록 껍질</p>
<h2 id="회전하는-캘리퍼스rotating-calipers">회전하는 캘리퍼스(Rotating Calipers)</h2>
<p>참고: https://stonejjun.tistory.com/42
i -&gt; ni 와 j-&gt;nj 가 있다고 하자. 둘의 ccw가 음수가 되기 시작하는 점 j가 점 i로부터 가장 먼 점이다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
</pre></td><td class="rouge-code"><pre><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cmath&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;utility&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;tuple&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stack&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;deque&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;list&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;map&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;unordered_map&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;climits&gt;</span><span class="cp">
</span>
<span class="cp">#define INF 987654321
#define INF2 2147483647
#define all(v) (v).begin(), (v).end()
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ll</span> <span class="o">=</span> <span class="kt">long</span> <span class="kt">long</span><span class="p">;</span>
<span class="k">using</span> <span class="n">pii</span> <span class="o">=</span> <span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">;</span>
<span class="k">using</span> <span class="n">ti3</span> <span class="o">=</span> <span class="n">tuple</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;</span><span class="p">;</span>

<span class="k">struct</span> <span class="nc">Point</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>

    <span class="n">Point</span><span class="p">()</span> <span class="p">{}</span>
    <span class="n">Point</span><span class="p">(</span><span class="n">ll</span> <span class="n">_x</span><span class="p">,</span> <span class="n">ll</span> <span class="n">_y</span><span class="p">)</span> <span class="o">:</span> <span class="n">x</span><span class="p">(</span><span class="n">_x</span><span class="p">),</span> <span class="n">y</span><span class="p">(</span><span class="n">_y</span><span class="p">)</span> <span class="p">{}</span>
    <span class="n">ll</span> <span class="n">cross</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">other</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span><span class="o">*</span><span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">crossSign</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ll</span> <span class="n">res</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">cross</span><span class="p">(</span><span class="n">other</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">res</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">res</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">dist</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">pow</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">Point</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">bool</span> <span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">return</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span> <span class="o">&lt;&lt;</span> <span class="n">y</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">ll</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">white</span><span class="p">,</span> <span class="n">black</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="n">convex_white</span><span class="p">,</span> <span class="n">convex_black</span><span class="p">;</span>
<span class="n">Point</span> <span class="n">reference</span><span class="p">;</span>

<span class="kt">bool</span> <span class="n">cmp</span><span class="p">(</span><span class="n">Point</span> <span class="n">a</span><span class="p">,</span> <span class="n">Point</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">res</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">reference</span><span class="p">).</span><span class="n">cross</span><span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">reference</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="n">res</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">res</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">reference</span><span class="p">.</span><span class="n">dist</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">reference</span><span class="p">.</span><span class="n">dist</span><span class="p">(</span><span class="n">b</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">Graham_Scan</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">points</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">convex</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">points</span><span class="p">));</span>
    <span class="n">reference</span> <span class="o">=</span> <span class="n">points</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">points</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">points</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span> <span class="n">cmp</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">Point</span> <span class="n">p3</span> <span class="o">:</span> <span class="n">points</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">while</span><span class="p">(</span><span class="n">convex</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">Point</span> <span class="n">p2</span> <span class="o">=</span> <span class="n">convex</span><span class="p">.</span><span class="n">back</span><span class="p">();</span>
            <span class="n">Point</span> <span class="n">p1</span> <span class="o">=</span> <span class="n">convex</span><span class="p">[</span><span class="n">convex</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">2</span><span class="p">];</span>
            <span class="n">ll</span> <span class="n">ccw</span> <span class="o">=</span> <span class="p">(</span><span class="n">p2</span><span class="o">-</span><span class="n">p1</span><span class="p">).</span><span class="n">cross</span><span class="p">(</span><span class="n">p3</span><span class="o">-</span><span class="n">p2</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">ccw</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
            <span class="n">convex</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="n">convex</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">p3</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">Rotating_Calipers</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">sz</span> <span class="o">=</span> <span class="n">convex</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="n">ll</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="kt">int</span> <span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">k</span><span class="o">&lt;</span><span class="n">sz</span><span class="p">;</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">convex</span><span class="p">[</span><span class="n">l</span><span class="p">].</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">convex</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">x</span><span class="p">)</span> <span class="n">l</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">convex</span><span class="p">[</span><span class="n">r</span><span class="p">].</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">convex</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">x</span><span class="p">)</span> <span class="n">r</span> <span class="o">=</span> <span class="n">k</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">L</span> <span class="o">=</span> <span class="n">l</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span>
    <span class="n">ll</span> <span class="n">maxDist</span> <span class="o">=</span> <span class="n">convex</span><span class="p">[</span><span class="n">l</span><span class="p">].</span><span class="n">dist</span><span class="p">(</span><span class="n">convex</span><span class="p">[</span><span class="n">r</span><span class="p">]);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">_</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">_</span><span class="o">&lt;</span><span class="n">sz</span><span class="p">;</span> <span class="n">_</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">nl</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">sz</span><span class="p">,</span> <span class="n">nr</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">sz</span><span class="p">;</span>
        <span class="n">ll</span> <span class="n">ccw</span> <span class="o">=</span> <span class="p">(</span><span class="n">convex</span><span class="p">[</span><span class="n">nl</span><span class="p">]</span> <span class="o">-</span> <span class="n">convex</span><span class="p">[</span><span class="n">l</span><span class="p">]).</span><span class="n">cross</span><span class="p">(</span><span class="n">convex</span><span class="p">[</span><span class="n">nr</span><span class="p">]</span> <span class="o">-</span> <span class="n">convex</span><span class="p">[</span><span class="n">r</span><span class="p">]);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ccw</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="n">l</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">sz</span><span class="p">;</span>
        <span class="k">else</span> <span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="n">sz</span><span class="p">;</span>
        <span class="n">ll</span> <span class="n">minDist</span> <span class="o">=</span> <span class="n">convex</span><span class="p">[</span><span class="n">l</span><span class="p">].</span><span class="n">dist</span><span class="p">(</span><span class="n">convex</span><span class="p">[</span><span class="n">r</span><span class="p">]);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">maxDist</span> <span class="o">&lt;</span> <span class="n">minDist</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">maxDist</span> <span class="o">=</span> <span class="n">minDist</span><span class="p">;</span>
            <span class="n">L</span> <span class="o">=</span> <span class="n">l</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">convex</span><span class="p">[</span><span class="n">L</span><span class="p">].</span><span class="n">print</span><span class="p">();</span> <span class="n">convex</span><span class="p">[</span><span class="n">R</span><span class="p">].</span><span class="n">print</span><span class="p">();</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">bool</span> <span class="n">isIntersect</span><span class="p">(</span><span class="n">Point</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p3</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p4</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">p1p2</span> <span class="o">=</span> <span class="p">(</span><span class="n">p2</span><span class="o">-</span><span class="n">p1</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p3</span><span class="o">-</span><span class="n">p2</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">p2</span><span class="o">-</span><span class="n">p1</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p4</span><span class="o">-</span><span class="n">p2</span><span class="p">);</span> <span class="c1">// 선분 p1p2 기준</span>
    <span class="n">ll</span> <span class="n">p3p4</span> <span class="o">=</span> <span class="p">(</span><span class="n">p4</span><span class="o">-</span><span class="n">p3</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p1</span><span class="o">-</span><span class="n">p4</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">p4</span><span class="o">-</span><span class="n">p3</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p2</span><span class="o">-</span><span class="n">p4</span><span class="p">);</span> <span class="c1">// 선분 p3p4 기준</span>

    <span class="c1">// 두 직선이 일직선 상에 존재</span>
    <span class="k">if</span><span class="p">(</span><span class="n">p1p2</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p3p4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p2</span> <span class="o">&lt;</span> <span class="n">p1</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p4</span> <span class="o">&lt;</span> <span class="n">p3</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">p3</span> <span class="o">&lt;</span> <span class="n">p2</span> <span class="o">&amp;&amp;</span> <span class="n">p1</span> <span class="o">&lt;</span> <span class="n">p4</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">p1p2</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p3p4</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 모든 B가 A의 영역 안에 있는지를 반환</span>
<span class="c1">// 점을 오른쪽으로 선을 끝까지 그었을 때 만나는 선분의 개수가 홀수면 내부, 짝수면 외부에 있는 것이다.</span>
<span class="kt">bool</span> <span class="n">isIncluded</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">A</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">B</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">sza</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">szb</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">b</span><span class="o">&lt;</span><span class="n">szb</span><span class="p">;</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Point</span> <span class="n">pointNB</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">x</span> <span class="o">+</span> <span class="n">INF</span><span class="p">,</span> <span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">y</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">sza</span><span class="p">;</span> <span class="n">a</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">na</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">sza</span><span class="p">;</span>
            <span class="k">if</span><span class="p">((</span><span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">na</span><span class="p">].</span><span class="n">y</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">a</span><span class="p">].</span><span class="n">y</span><span class="p">))</span> <span class="n">cnt</span> <span class="o">+=</span> <span class="n">isIntersect</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">a</span><span class="p">],</span> <span class="n">A</span><span class="p">[</span><span class="n">na</span><span class="p">],</span> <span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">],</span> <span class="n">pointNB</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">cnt</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">string</span> <span class="n">solve</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">szb</span> <span class="o">=</span> <span class="n">convex_black</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">szw</span> <span class="o">=</span> <span class="n">convex_white</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">b</span><span class="o">&lt;</span><span class="n">szb</span><span class="p">;</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">int</span> <span class="n">nb</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">szb</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">w</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">w</span><span class="o">&lt;</span><span class="n">szw</span><span class="p">;</span> <span class="n">w</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">nw</span> <span class="o">=</span> <span class="p">(</span><span class="n">w</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">szw</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">isIntersect</span><span class="p">(</span><span class="n">convex_black</span><span class="p">[</span><span class="n">b</span><span class="p">],</span> <span class="n">convex_black</span><span class="p">[</span><span class="n">nb</span><span class="p">],</span> <span class="n">convex_white</span><span class="p">[</span><span class="n">w</span><span class="p">],</span> <span class="n">convex_white</span><span class="p">[</span><span class="n">nw</span><span class="p">]))</span> <span class="k">return</span> <span class="s">"NO"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">szb</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="o">||</span> <span class="n">szw</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="k">return</span> <span class="s">"YES"</span><span class="p">;</span>
    <span class="c1">// 영역을 구축할 수 있으려면 각 점들이 3개 이상이어야 한다.</span>

    <span class="c1">// 검은색 점 영역 안에 모든 흰색 점이 들어가 있는지 확인</span>
    <span class="k">if</span><span class="p">(</span><span class="n">isIncluded</span><span class="p">(</span><span class="n">convex_black</span><span class="p">,</span> <span class="n">convex_white</span><span class="p">))</span> <span class="k">return</span> <span class="s">"NO"</span><span class="p">;</span>
    <span class="c1">// 흰색 점 영역 안에 모든 검은색 점이 들어가 있는지 확인</span>
    <span class="k">if</span><span class="p">(</span><span class="n">isIncluded</span><span class="p">(</span><span class="n">convex_white</span><span class="p">,</span> <span class="n">convex_black</span><span class="p">))</span> <span class="k">return</span> <span class="s">"NO"</span><span class="p">;</span>

    <span class="k">return</span> <span class="s">"YES"</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ios_base</span><span class="o">::</span><span class="n">sync_with_stdio</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
    <span class="n">cin</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="nb">nullptr</span><span class="p">);</span>
    <span class="n">cout</span><span class="p">.</span><span class="n">tie</span><span class="p">(</span><span class="nb">nullptr</span><span class="p">);</span>

    <span class="kt">int</span> <span class="n">T</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">T</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">black</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">white</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
        <span class="n">convex_black</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">convex_white</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

        <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ll</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="n">y</span><span class="p">;</span>
            <span class="n">black</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ll</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="n">y</span><span class="p">;</span>
            <span class="n">white</span><span class="p">.</span><span class="n">emplace_back</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">Graham_Scan</span><span class="p">(</span><span class="n">black</span><span class="p">,</span> <span class="n">convex_black</span><span class="p">);</span>
        <span class="n">Graham_Scan</span><span class="p">(</span><span class="n">white</span><span class="p">,</span> <span class="n">convex_white</span><span class="p">);</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">solve</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="sc">'\n'</span><span class="p">;</span>
    <span class="p">}</span>


    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="선분-교차-판정">선분 교차 판정</h1>

<p>참고: <a href="https://killerwhale0917.tistory.com/6">https://killerwhale0917.tistory.com/6</a></p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
</pre></td><td class="rouge-code"><pre><span class="k">struct</span> <span class="nc">Point</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>

    <span class="n">Point</span><span class="p">()</span> <span class="p">{}</span>
    <span class="n">Point</span><span class="p">(</span><span class="n">ll</span> <span class="n">_x</span><span class="p">,</span> <span class="n">ll</span> <span class="n">_y</span><span class="p">)</span> <span class="o">:</span> <span class="n">x</span><span class="p">(</span><span class="n">_x</span><span class="p">),</span> <span class="n">y</span><span class="p">(</span><span class="n">_y</span><span class="p">)</span> <span class="p">{}</span>
    <span class="n">ll</span> <span class="n">cross</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">other</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">y</span><span class="o">*</span><span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">crossSign</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ll</span> <span class="n">res</span> <span class="o">=</span> <span class="k">this</span><span class="o">-&gt;</span><span class="n">cross</span><span class="p">(</span><span class="n">other</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">res</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">res</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">dist</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">pow</span><span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">Point</span> <span class="k">operator</span><span class="o">-</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">bool</span> <span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">bool</span> <span class="k">operator</span><span class="o">&lt;</span><span class="p">(</span><span class="n">Point</span> <span class="n">other</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="k">return</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">y</span><span class="p">;</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">other</span><span class="p">.</span><span class="n">x</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">print</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span> <span class="o">&lt;&lt;</span> <span class="n">y</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="kt">int</span> <span class="n">isIntersect</span><span class="p">(</span><span class="n">Point</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p2</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p3</span><span class="p">,</span> <span class="n">Point</span> <span class="n">p4</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">p1p2p3</span> <span class="o">=</span> <span class="p">(</span><span class="n">p2</span><span class="o">-</span><span class="n">p1</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p3</span><span class="o">-</span><span class="n">p2</span><span class="p">),</span> <span class="n">p1p2p4</span> <span class="o">=</span> <span class="p">(</span><span class="n">p2</span><span class="o">-</span><span class="n">p1</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p4</span><span class="o">-</span><span class="n">p2</span><span class="p">);</span>
    <span class="n">ll</span> <span class="n">p3p4p1</span> <span class="o">=</span> <span class="p">(</span><span class="n">p4</span><span class="o">-</span><span class="n">p3</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p1</span><span class="o">-</span><span class="n">p4</span><span class="p">),</span> <span class="n">p3p4p2</span> <span class="o">=</span> <span class="p">(</span><span class="n">p4</span><span class="o">-</span><span class="n">p3</span><span class="p">).</span><span class="n">crossSign</span><span class="p">(</span><span class="n">p2</span><span class="o">-</span><span class="n">p4</span><span class="p">);</span>
    <span class="n">ll</span> <span class="n">p1p2</span> <span class="o">=</span> <span class="n">p1p2p3</span> <span class="o">*</span> <span class="n">p1p2p4</span><span class="p">;</span> <span class="c1">// 선분 p1p2 기준</span>
    <span class="n">ll</span> <span class="n">p3p4</span> <span class="o">=</span> <span class="n">p3p4p1</span> <span class="o">*</span> <span class="n">p3p4p2</span><span class="p">;</span> <span class="c1">// 선분 p3p4 기준</span>

    <span class="c1">// 두 직선이 일직선 상에 존재</span>
    <span class="k">if</span><span class="p">(</span><span class="n">p1p2p3</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p1p2p4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p2</span> <span class="o">&lt;</span> <span class="n">p1</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p4</span> <span class="o">&lt;</span> <span class="n">p3</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p3p4p1</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p3p4p2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 평행할 때</span>
            <span class="k">if</span><span class="p">(</span><span class="n">p2</span> <span class="o">&lt;</span> <span class="n">p3</span> <span class="o">||</span> <span class="n">p4</span> <span class="o">&lt;</span> <span class="n">p1</span><span class="p">)</span> <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 평행 하지만 겹치지 않음</span>
            <span class="k">if</span><span class="p">(</span><span class="n">p2</span> <span class="o">==</span> <span class="n">p3</span> <span class="o">||</span> <span class="n">p4</span> <span class="o">==</span> <span class="n">p1</span><span class="p">)</span> <span class="k">return</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// 한 점만 겹침</span>
            <span class="k">return</span> <span class="n">INF</span><span class="p">;</span> <span class="c1">// 해가 무수히 많음</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">p1p2</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">p3p4</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>선분 p1p2, 선분 p3p4의 교차판정을 한다고 했을 때</p>

<ol>
  <li>
    <p>p1p2 = ccw(p1,p2,p3) * ccw(p1,p2,p4)<br />
p3p4 = ccw(p3,p4,p1) * ccw(p3,p4,p2)<br />
을 계산한다.</p>
  </li>
  <li>
    <p>p1p2 == 0 &amp;&amp; p3p4 == 0 이면,<br />
두 선분이 한 직선 상에 있다는 의미이므로 두 선분이 겹치는 지 확인한다.</p>
  </li>
  <li>
    <p>p1p2 ≤ 0 &amp;&amp; p3p4 ≤ 0 이면,<br />
두 선분이 교차한다는 의미다.</p>
  </li>
</ol>

<h1 id="선분의-교차점-구하기">선분의 교차점 구하기</h1>

<p>설명: <a href="https://velog.io/@jinsoolve/2023.11.12.-PS-log">https://velog.io/@jinsoolve/2023.11.12.-PS-log</a></p>

<p>교차점을 구하는 방식은 findIntersectionPoint()함수와 같다. 증명은 velog에 있다.</p>

<p>교차점이라는 것은 한 점만 있어야 하므로 선분이 겹칠 때는 제외해준다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">findIntersectionPoint</span><span class="p">(</span><span class="n">Vector</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Vector</span> <span class="n">p2</span><span class="p">,</span> <span class="n">Vector</span> <span class="n">p3</span><span class="p">,</span> <span class="n">Vector</span> <span class="n">p4</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">Vector</span> <span class="n">p1p2</span> <span class="o">=</span> <span class="n">p2</span><span class="o">-</span><span class="n">p1</span><span class="p">,</span> <span class="n">p3p4</span> <span class="o">=</span> <span class="n">p4</span><span class="o">-</span><span class="n">p3</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">px</span> <span class="o">=</span> <span class="n">p2</span><span class="p">.</span><span class="n">cross</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span><span class="o">*</span><span class="n">p3p4</span><span class="p">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">p1p2</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="n">p4</span><span class="p">.</span><span class="n">cross</span><span class="p">(</span><span class="n">p3</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">py</span> <span class="o">=</span> <span class="n">p2</span><span class="p">.</span><span class="n">cross</span><span class="p">(</span><span class="n">p1</span><span class="p">)</span><span class="o">*</span><span class="n">p3p4</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">p1p2</span><span class="p">.</span><span class="n">y</span><span class="o">*</span><span class="n">p4</span><span class="p">.</span><span class="n">cross</span><span class="p">(</span><span class="n">p3</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">p</span> <span class="o">=</span> <span class="n">p1p2</span><span class="p">.</span><span class="n">cross</span><span class="p">(</span><span class="n">p3p4</span><span class="p">);</span>

    <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">EPSILON</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// parallel</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p2</span> <span class="o">&lt;</span> <span class="n">p1</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p4</span> <span class="o">&lt;</span> <span class="n">p3</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p2</span> <span class="o">==</span> <span class="n">p3</span><span class="p">)</span> <span class="n">p2</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">p4</span> <span class="o">==</span> <span class="n">p1</span><span class="p">)</span> <span class="n">p4</span><span class="p">.</span><span class="n">print</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="n">Vector</span><span class="p">(</span><span class="n">px</span><span class="o">/</span><span class="n">p</span><span class="p">,</span> <span class="n">py</span><span class="o">/</span><span class="n">p</span><span class="p">).</span><span class="n">print</span><span class="p">();</span> <span class="c1">// intersect</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">solve</span><span class="p">(</span><span class="n">Vector</span> <span class="n">p1</span><span class="p">,</span> <span class="n">Vector</span> <span class="n">p2</span><span class="p">,</span> <span class="n">Vector</span> <span class="n">p3</span><span class="p">,</span> <span class="n">Vector</span> <span class="n">p4</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">double</span> <span class="n">p1p2_ccw</span> <span class="o">=</span> <span class="n">ccw</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span><span class="p">)</span> <span class="o">*</span> <span class="n">ccw</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p4</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">p3p4_ccw</span> <span class="o">=</span> <span class="n">ccw</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">,</span><span class="n">p1</span><span class="p">)</span> <span class="o">*</span> <span class="n">ccw</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">,</span><span class="n">p2</span><span class="p">);</span>

    <span class="c1">// intersect at end point</span>
    <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span class="n">p1p2_ccw</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">EPSILON</span> <span class="o">&amp;&amp;</span> <span class="n">fabs</span><span class="p">(</span><span class="n">p3p4_ccw</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">EPSILON</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p2</span> <span class="o">&lt;</span> <span class="n">p1</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p4</span> <span class="o">&lt;</span> <span class="n">p3</span><span class="p">)</span> <span class="n">swap</span><span class="p">(</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="n">p3</span> <span class="o">&lt;=</span> <span class="n">p2</span> <span class="o">&amp;&amp;</span> <span class="n">p1</span> <span class="o">&lt;=</span> <span class="n">p4</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"1</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
            <span class="n">findIntersectionPoint</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"0</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="c1">// just intersect normally</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">p1p2_ccw</span> <span class="o">&lt;</span> <span class="n">EPSILON</span> <span class="o">&amp;&amp;</span> <span class="n">p3p4_ccw</span> <span class="o">&lt;</span> <span class="n">EPSILON</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"1</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
            <span class="n">findIntersectionPoint</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">,</span><span class="n">p3</span><span class="p">,</span><span class="n">p4</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"0</span><span class="se">\n</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="볼록-다각형-내부의-점-판정">볼록 다각형 내부의 점 판정</h1>

<p>참고: <a href="https://bowbowbow.tistory.com/24">https://bowbowbow.tistory.com/24</a></p>

<p>한 점을 기준으로 오른쪽으로 반직선을 그었을 때 만나는 볼록 다각형의 선분의 개수가 짝수면 외부, 홀수면 내부다.</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c1">// 모든 B가 A의 영역 안에 있는지를 반환</span>
<span class="c1">// 점을 오른쪽으로 선을 끝까지 그었을 때 만나는 선분의 개수가 홀수면 내부, 짝수면 외부에 있는 것이다.</span>
<span class="kt">bool</span> <span class="nf">isIncluded</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">A</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">Point</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">B</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">sza</span> <span class="o">=</span> <span class="n">A</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="n">szb</span> <span class="o">=</span> <span class="n">B</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">b</span><span class="o">&lt;</span><span class="n">szb</span><span class="p">;</span> <span class="n">b</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">Point</span> <span class="n">pointNB</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">x</span> <span class="o">+</span> <span class="n">INF</span><span class="p">,</span> <span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">y</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">sza</span><span class="p">;</span> <span class="n">a</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="kt">int</span> <span class="n">na</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">sza</span><span class="p">;</span>
            <span class="k">if</span><span class="p">((</span><span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">na</span><span class="p">].</span><span class="n">y</span><span class="p">)</span> <span class="o">!=</span> <span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">].</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">A</span><span class="p">[</span><span class="n">a</span><span class="p">].</span><span class="n">y</span><span class="p">))</span> <span class="n">cnt</span> <span class="o">+=</span> <span class="n">isIntersect</span><span class="p">(</span><span class="n">A</span><span class="p">[</span><span class="n">a</span><span class="p">],</span> <span class="n">A</span><span class="p">[</span><span class="n">na</span><span class="p">],</span> <span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">],</span> <span class="n">pointNB</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">cnt</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

        
      </section>

      <footer class="page__meta">
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="#" class="pagination--pager disabled">Prev</a>
    
    
      <a href="/algorithm/scc/" class="pagination--pager" title="강한 연결 요소(Strongly Connected Component, SCC)
">Next</a>
    
  </nav>


    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a comment</h4>
      <section id="utterances-comments"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You may also enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/%EA%B3%B5%EC%A7%80/blog-move/" rel="permalink">블로그 이전했습니다
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2025-01-06T00:00:00+00:00">January 6, 2025</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">jinsoolve.com 으로 블로그를 이전하게 되었습니다.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/problem%20solving/boj-1462/" rel="permalink">백준 1462 - 퀴즈쇼
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-09-20T00:00:00+00:00">September 20, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">BOJ 1462 - 퀴즈쇼

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/problem%20solving/boj-17407/" rel="permalink">백준 17407 - 괄호 문자열과 쿼리
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-09-10T00:00:00+00:00">September 10, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">백준 17407 - 괄호 문자열과 쿼리

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/problem%20solving/boj-28219/" rel="permalink">백준 28219 - 주유소
</a>
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2024-09-04T00:00:00+00:00">September 4, 2024</time>
      </span>
    

    

    
  </p>


    <p class="archive__item-excerpt" itemprop="description">boj 28219 - 주유소
</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 jinsoolve. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>







  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=your tracking id here"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'your tracking id here', { 'anonymize_ip': false});
</script>






    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'jinsoolve/jinsoolve.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-dark');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  



  
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
  
    <script src="/assets/js/clipboardrouge.js"></script>
  






  </body>
</html>
